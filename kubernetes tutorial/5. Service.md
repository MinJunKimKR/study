# 서비스
서비스는 여러개의 파드에 접근할 수 있는 IP 하나를 제공한다. 다양한 기능을 제공하지만 본질적으로는 로드밸런서 역할을 한다. 

## 서비스의 개념
쿠버네티스 클러스터 안에 컨트롤러를 이용해서 파드를 실행했다면, 파드에는 접근하는 방법을 알아야 한다.  
  
파드는 컨트롤러가 관리하므로, 한군데에 고정되어 실행되는 것이 아니라, 클러스터 안을 옮겨다닌다. 이 과정에서 노드를 옮기기도 하고, 클러스터 안
파드의 IP가 변경되기도 한다. 이렇게 동적으로 변하는 파드들에 고정적으로 접근할 때 사용하는 방법이 쿠버네티스의 "서비스"이다.  

서비스를 사용하면 고정주소를 이용해 파드에 접근할 수 있다. 또한, 클러스터 외부에서 클러스터 안 파드에 접근할 수도있다. 인그레스를 통해서도 외부에서 내부로 접속 할 수 있지만 보통 서비스는 주로 L4 영역에서 통신할 때 사용하고, 인그레스는 L7영역에서 통신할 때 사용한다.  

## 서비스 타입
서비스 타입에는 크게 네가지가 있다.

* **ClusterIP** : 기본 서비스 타입이며, 쿠버네티스 클러스터 안에서만 사용할 수 있다. 클러스터 안 노드나 파드에서는 클러스터 IP를 이용해서 서비스에 연결된 파드에 접근한다. 클러스터 외부에서는 사용할 수 없다.  

* **NodePort** : 서비스 하나에 모든 노드의 지정된 포트를 할당한다. node1:8080, node2:8080처럼 노드에 상관없이 서비스에 지정된 포트번호만 사용하면 파드에 접근할 수 있다. 노드의 포트를 사용하므로, 클러스터 안 뿐만 아니라 클러스터 외부에서도 접근할 수 있다. 클러스터 외부에서 클러스터 안 파드로 접근할 때 사용할 수 있는 가장 간단한 방법이다.  

* **LoadBalancer** : 퍼블릭클라우드, 프라이빗클라우드, 그리고 쿠버네티스를 지원하는 로드밸런서 장비에서 사용한다. 클라우드에서 제공하는 로드밸런서와 파드를 연결한 후, 해당 로드밸런서의 IP를 이용해 클러스터 외부에서 파드에 접근할 수 있도록 한다. kubectl get service 명령으로 서비스 상태를 확인하면, EXTERNAL-IP 항목에 로드밸런서 IP를 표시한다. 이 IP를 사용해 클러스터 외부에서 파드에 접근할 수 있다.  

* **ExternalName** : 서비스를 .spec.externalName 필드에 설정한 값과 연결한다. 클러스터 안에서 외부에 접근할 때 주로 사용한다. 이 서비스로 클러스터 외부에 접근하면 설정해둔 CNAME값을 이용해 클러스터 외부에 접근할 수 있다. 클러스터 외부에 접근할 때 사용하는 값이므로 selector가 필요없다.  

## 서비스 사용하기
서비스 템플릿의 기본구조는 아래와 같다.  
~~~
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  type: ClusterIP            # 1
  clusterIP: 10.0.10.10      # 2
  selector:                  # 3
    app: MyApp
  ports:                     # 4
  - protocol: TCP
    port: 80
    targetPort: 9376
~~~

1. .spec.type 필드에서 서비스 타입을 설정할 수 있다. 설정하지 않으면 기본 타입은 ClusterIP이다.  

2. .spec.clusterIP필드에서 클러스터 IP를 직접 설정할 수 있다. 설정하지 않으면 자동으로 IP값이 할당된다.  

3. .spec.selector 필드에는 서비스와 연결할 파드에 설정한 .labels 필드 값을 설정한다.  

4. .spec.ports[] 필드는 배열 형태로, 서비스에서 한꺼번에 포트 여러개를 외부에 제공할 때 사용한다.  

  
  
우선 다음 명령으로 deployment로 생성하는 서비스에 연결할 파드를 실행한다. 
~~~
$ kubectl run nginx-for-service --image=nginx --replicas=2 --port=80 --labels="app=nginx-for-svc"
~~~
  

### ClusterIP 타입 서비스 이용하기
ClusterIP 타입의 서비스를 만드는 설정이다.  
~~~
apiVersion: v1
kind: Service
metadata:
  name: clusterip-service
spec:
  type: ClusterIP
  selector:
    app: nginx-for-svc
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
~~~

.spec.type 필드 값을 ClusterIP로 설정했고, .spec.selector.app 필드 값은 nginx-for-svc로 설정해 앞에서 실행한 nginx-for service 파드를 선택하도록 했다.  

kubectl get svc 명령어로 clusterip-service가 서비스로 올라온 것을 확인 할 수 있다.  

### NodePort 타입 서비스 
~~~
apiVersion: v1
kind: Service
metadata:
  name: nodeport-service
spec:
  type: NodePort
  selector:
    app: nginx-for-svc
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
    nodePort: 30080
~~~

서비스이름, 타입설정, 접속포트설정(.spec.ports.nodePort) 이외에는 ClusterIP 타입 서비스 설정과 같다.   

ClusterIP 타입 서비스의 경우 쿠버네티스 클러스터 안에 따로 파드를 만들어 접속을 해야하지만, NodePort의 경우 도커 데스크톱(실습 환경)을 설치하면서 만든 가상 머신의 30080 포트를 각 파드에서 접근가능하도록 설정한 것이다. 따라서 따로 파드를 만들 피룡 없이 웹 브라우저를 열고 localhost:30080으로 접속해도 nginx 웹페이지가 보이게 된다.  

위 yaml 파일을 nodeport.yaml로 저장하고, kubectl apply -f nodeport.yaml로 클러스터에 적용한다.  
NodePort 타입이지만 Cluster-IP 항목이 10.x.x.x로 설정되어있음을 확인 할 수있는데, PORT(S) 항목의 80:30080/TCP는 노드의 30080 포트가 ClusterIP 타입 서비스의 80 포트와 연결되었다는 뜻이다.  


### LoadBalancer 타입 서비스 사용하기

~~~
apiVersion: v1
kind: Service
metadata:
  name: loadbalancer-service
spec:
  type: LoadBalancer
  selector:
    app: nginx-for-svc
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
~~~

.metadata.name 과 spec.type 이외의 나머지 설정은 ClusterIP 타입 서비스 설정과 같다. LoadBalancer 타입은 쿠버네티스 클러스터를 외부 로드밸런서와 연계해서 설치했을 때 사용한다.  


### ExternalName 타입 서비스 사용하기

~~~
apiVersion: v1
kind: Service
metadata:
  name: externalname-service
spec:
  type: ExternalName
  externalName: google.com
~~~

.spec.type필드 값으로 ExternalName을 설정했고, .spec.externalName 필드 값으로 google.com을 설정했다. 연결하려는 외부 도메인 값을 설정한 것이다.  

위 yaml 파일을 externalname.yaml로 저장하고 kubectl apply -f externalname.yaml 명령으로 클러스터에 적용한다. kubectl get svc 명령을 실행해 서비스 상태를 확인한다.  


## 헤드리스 서비스
.spec.clusterIP 필드 값을 None으로 설정하면 클러스터 IP가 없는 서비스를 만들 수 있다. 이런 서비스를 '헤드리스 서비스'라고 한다. 로드밸런싱이 필요 없거나 단일 서비스 IP가 필요없을 때 사용한다.  
헤드리스 서비스에 셀렉터(.spec.selector 필드)를 설정하면 쿠버네티스 API로 확인할 수 있는 엔드포인트가 만들어진다. 서비스와 연결된 파드를 직접 가리키는 DNS A레코드도 만들어진다. 셀렉터가 없으면 엔드포인트가 만들어지지 않는다. 단, 셀렉터가 없더라도 DNS 시스템은 ExternalName 타입의 서비스에서 사용할 CNAME 레코드가 만들어진다. 

~~~
apiVersion: v1
kind: Service
metadata:
  name: headless-service
spec:
  type: ClusterIP
  clusterIP: None
  selector:
    app: nginx-for-svc
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
~~~
.spec.type 필드 값은 ClusterIP이지만, .spec.clusterIP 필드값을 None으로 설정했다.  
IP 항목은 None이므로 실제 값이 없지만, Endpoints 항목에는 .spec.selector 필드에서 선택한 조건에 맞는 파드들의 IP와 포트정보를 확인할 수 있다.  

## kube-Proxy
kube-proxy는 쿠버네티스에서 서비스를 만들었을 때 클러스터 IP나 노드 포트로 접근할 수 있게 만들어 실제 조작을 하는 컴포넌트이다. 쿠버네티스 클러스터의 노드마다 실행되면서 클러스터 내부 IP로 연결하려는 요청을 적절한 파드로 전달한다.  

kube-proxy가 네트워크를 관리하는 방법은 userspace, iptables, IPVS가 있다. 초기에는 userspace가 기본 관리모드였지만, 현재는 iptables가 기본관리 모드이다. 앞으로는 iptables에서 IPVS로 기본 관리 모드가 바뀔것으로 예상된다.  

### userspace 모드
![userspace](data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIKCSBpZD0ic3ZnMiIgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSIvdXNyL2xvY2FsL2dvb2dsZS9ob21lL3Rob2NraW4vc3JjL2t1YmVybmV0ZXMvZG9jcy9zZXJ2aWNlc19vdmVydmlldy5wbmciIGlua3NjYXBlOmV4cG9ydC14ZHBpPSI3Ni45MTAwMDQiIGlua3NjYXBlOmV4cG9ydC15ZHBpPSI3Ni45MTAwMDQiIGlua3NjYXBlOnZlcnNpb249IjAuNDguNCByOTkzOSIgc29kaXBvZGk6ZG9jbmFtZT0ic2VydmljZXMtdXNlcnNwYWNlLW92ZXJ2aWV3LnN2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCgkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA3NjMgNDI5IgoJIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDc2MyA0Mjk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDo1LjE5NjU7fQoJLnN0MXtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6NS4xOTY1O3N0cm9rZS1saW5lY2FwOnJvdW5kO30KCS5zdDJ7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDo1O30KCS5zdDN7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjQuNzAzNjtzdHJva2UtbGluZWNhcDpyb3VuZDt9Cgkuc3Q0e2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6NC4yOTI4O30KCS5zdDV7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjQuMjkyODtzdHJva2UtbGluZWNhcDpyb3VuZDt9Cgkuc3Q2e2ZpbGw6Izg1QkZGMTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7fQoJLnN0N3tmb250LWZhbWlseTonQXJpYWxNVCc7fQoJLnN0OHtmb250LXNpemU6MzJweDt9Cgkuc3Q5e2ZvbnQtc2l6ZToyNHB4O30KCS5zdDEwe2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS44ODE0O30KCS5zdDExe3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjg4MTQ7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQoJLnN0MTJ7ZmlsbDojRjFDQjg1O3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDt9Cgkuc3QxM3tmaWxsOiNCOUYxODU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30KCS5zdDE0e2ZpbGw6I0VEQzFGODtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7fQoJLnN0MTV7ZmlsbDojRkZFNjgwO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjc3ODc7fQoJLnN0MTZ7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjkyMzk7fQoJLnN0MTd7Zm9udC1mYW1pbHk6J015cmlhZFByby1SZWd1bGFyJzt9Cgkuc3QxOHtmb250LXNpemU6NDBweDt9Cjwvc3R5bGU+Cjxzb2RpcG9kaTpuYW1lZHZpZXcgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IiBib3JkZXJvcGFjaXR5PSIxLjAiIGlkPSJiYXNlIiBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiIGlua3NjYXBlOmN4PSIyOTEuOTI1NCIgaW5rc2NhcGU6Y3k9IjM5Mi4zMDU0NSIgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IiBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIiBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIiBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4MjIiIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTU1MiIgaW5rc2NhcGU6d2luZG93LXg9IjQ2IiBpbmtzY2FwZTp3aW5kb3cteT0iNDciIGlua3NjYXBlOnpvb209IjEuMDMxODM2OSIgcGFnZWNvbG9yPSIjZmZmZmZmIiBzaG93Z3JpZD0iZmFsc2UiPgoJPC9zb2RpcG9kaTpuYW1lZHZpZXc+CjxnIGlkPSJsYXllcjEiIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIj4KCTxnIGlkPSJnNDE3OC0zLTgiIHRyYW5zZm9ybT0ibWF0cml4KDAsLTEsLTAuOTI1Nzg5NjIsMCw5MzYuNDQ0MTMsMTAyOS4yNjg2KSI+CgkJPHBhdGggaWQ9InBhdGg0MTc0LTMtNCIgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgY2xhc3M9InN0MCIgZD0iTTgxMy4xLDc0Ni4xYzAtNzEuMywwLTcxLjMsMC03MS4zIi8+CgkJCgkJCTxwYXRoIGlkPSJwYXRoNDE3Ni05LTAiIGlua3NjYXBlOmZsYXRzaWRlZD0idHJ1ZSIgaW5rc2NhcGU6cmFuZG9taXplZD0iMCIgaW5rc2NhcGU6cm91bmRlZD0iMCIgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci15PSItMi41IiBzb2RpcG9kaTphcmcxPSIyLjYxNzk5MzkiIHNvZGlwb2RpOmFyZzI9IjMuNjY1MTkxNCIgc29kaXBvZGk6Y3g9IjMwOC44NTcxNSIgc29kaXBvZGk6Y3k9Ijc1My43OTA3NyIgc29kaXBvZGk6cjE9IjEwIiBzb2RpcG9kaTpyMj0iNSIgc29kaXBvZGk6c2lkZXM9IjMiIHNvZGlwb2RpOnR5cGU9InN0YXIiIGNsYXNzPSJzdDEiIGQ9IgoJCQlNODA0LjgsNjg0LjFsOC43LTE1bDguNywxNUg4MDQuOHoiLz4KCTwvZz4KCTxnIGlkPSJnNDMyNCIgdHJhbnNmb3JtPSJtYXRyaXgoMC45NjU5MjU4MywwLjI1ODgxOTA1LDAuMjU4ODE5MDUsLTAuOTY1OTI1ODMsLTM4LjgxMDc0NCwxMDc2LjIzOCkiPgoJCTxwYXRoIGlkPSJwYXRoNDE3NC0zLTIiIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIGNsYXNzPSJzdDIiIGQ9Ik0yMjcuOSw5NTkuN2MtMTAyLTExMy44LTEwMi0xMTMuOC0xMDItMTEzLjgiLz4KCQkKCQkJPHBhdGggaWQ9InBhdGg0MTc2LTktOSIgaW5rc2NhcGU6ZmxhdHNpZGVkPSJ0cnVlIiBpbmtzY2FwZTpyYW5kb21pemVkPSIwIiBpbmtzY2FwZTpyb3VuZGVkPSIwIiBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXk9Ii0yLjUiIHNvZGlwb2RpOmFyZzE9IjIuNjE3OTkzOSIgc29kaXBvZGk6YXJnMj0iMy42NjUxOTE0IiBzb2RpcG9kaTpjeD0iMzA4Ljg1NzE1IiBzb2RpcG9kaTpjeT0iNzUzLjc5MDc3IiBzb2RpcG9kaTpyMT0iMTAiIHNvZGlwb2RpOnIyPSI1IiBzb2RpcG9kaTpzaWRlcz0iMyIgc29kaXBvZGk6dHlwZT0ic3RhciIgY2xhc3M9InN0MyIgZD0iCgkJCU0xMTguOCw4NTIuOGwtNC44LTE4LjRsMTcuOCw2LjlMMTE4LjgsODUyLjh6Ii8+Cgk8L2c+Cgk8ZyBpZD0iZzQzMjQtOCIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTY1OTI1ODMsMC4yNTg4MTkwNSwtMC4yNTg4MTkwNSwtMC45NjU5MjU4Myw4ODguMzI5NjQsMTA3Ni4yMzgpIj4KCQk8cGF0aCBpZD0icGF0aDQxNzQtMy0yLTciIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIGNsYXNzPSJzdDIiIGQ9Ik0yMDYuNiw5NTRjLTEwMi0xMTMuOC0xMDItMTEzLjgtMTAyLTExMy44Ii8+CgkJCgkJCTxwYXRoIGlkPSJwYXRoNDE3Ni05LTktMyIgaW5rc2NhcGU6ZmxhdHNpZGVkPSJ0cnVlIiBpbmtzY2FwZTpyYW5kb21pemVkPSIwIiBpbmtzY2FwZTpyb3VuZGVkPSIwIiBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXk9Ii0yLjUiIHNvZGlwb2RpOmFyZzE9IjIuNjE3OTkzOSIgc29kaXBvZGk6YXJnMj0iMy42NjUxOTE0IiBzb2RpcG9kaTpjeD0iMzA4Ljg1NzE1IiBzb2RpcG9kaTpjeT0iNzUzLjc5MDc3IiBzb2RpcG9kaTpyMT0iMTAiIHNvZGlwb2RpOnIyPSI1IiBzb2RpcG9kaTpzaWRlcz0iMyIgc29kaXBvZGk6dHlwZT0ic3RhciIgY2xhc3M9InN0MyIgZD0iCgkJCU05Ny42LDg0Ny4xbC00LjgtMTguNGwxNy44LDYuOUw5Ny42LDg0Ny4xeiIvPgoJPC9nPgoJPGcgaWQ9Imc0MTc4LTMtOSIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEuMzU2NjA2Niw3OS4yNDAwMTQsMTY5OS41NDMxKSI+CgkJPHBhdGggaWQ9InBhdGg0MTc0LTMtOCIgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgY2xhc3M9InN0NCIgZD0iTTM0OC4xLDExMDguOGMwLTcxLjMsMC03MS4zLDAtNzEuMyIvPgoJCQoJCQk8cGF0aCBpZD0icGF0aDQxNzYtOS01IiBpbmtzY2FwZTpmbGF0c2lkZWQ9InRydWUiIGlua3NjYXBlOnJhbmRvbWl6ZWQ9IjAiIGlua3NjYXBlOnJvdW5kZWQ9IjAiIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteT0iLTIuNSIgc29kaXBvZGk6YXJnMT0iMi42MTc5OTM5IiBzb2RpcG9kaTphcmcyPSIzLjY2NTE5MTQiIHNvZGlwb2RpOmN4PSIzMDguODU3MTUiIHNvZGlwb2RpOmN5PSI3NTMuNzkwNzciIHNvZGlwb2RpOnIxPSIxMCIgc29kaXBvZGk6cjI9IjUiIHNvZGlwb2RpOnNpZGVzPSIzIiBzb2RpcG9kaTp0eXBlPSJzdGFyIiBjbGFzcz0ic3Q1IiBkPSIKCQkJTTMzOS44LDEwNDYuOGw4LjctMTVsOC43LDE1SDMzOS44eiIvPgoJPC9nPgoJPGcgaWQ9ImczOTM3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS42NDM1NDQsNzE5LjczMDc0KSI+CgkJPGcgaWQ9ImczODY4IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg4NzkyMzM3LDAsMCwxLDQzLjUwOTc1LDYuNTI1MDAwMWUtNikiPgoJCQk8cmVjdCBpZD0icmVjdDI5ODUiIHg9IjQyLjQiIHk9Ii00MTUuMSIgY2xhc3M9InN0NiIgd2lkdGg9IjIyNC4zIiBoZWlnaHQ9IjExOC42Ii8+CgkJCTxnIGlkPSJnMzg2MSI+CgkJCQk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDQ5LjA5OTEgLTM4NC4xNTQ1KSIgY2xhc3M9InN0NyBzdDgiPkJhY2tlbmQgUG9kIDE8L3RleHQ+CgkJCQk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDQ5LjUzMTMgLTM0NS4wNjY3KSIgY2xhc3M9InN0NyBzdDkiPmxhYmVsczogYXBwPU15QXBwPC90ZXh0PgoJCQkJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSA0OS41MzEzIC0zMTUuMDY2NykiIGNsYXNzPSJzdDcgc3Q5Ij5wb3J0OiA5Mzc2PC90ZXh0PgoJCQk8L2c+CgkJPC9nPgoJCTxnIGlkPSJnMzg2OC03IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg4NzkyMzM3LDAsMCwxLDI2Mi4wMDIzMSw2LjUyNTAwMDFlLTYpIj4KCQkJPHJlY3QgaWQ9InJlY3QyOTg1LTEiIHg9IjQyLjQiIHk9Ii00MTUuMSIgY2xhc3M9InN0NiIgd2lkdGg9IjIyNC4zIiBoZWlnaHQ9IjExOC42Ii8+CgkJCTxnIGlkPSJnMzg2MS05Ij4KCQkJCTx0ZXh0IHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgNDkuMDk5MiAtMzg0LjE1NDUpIiBjbGFzcz0ic3Q3IHN0OCI+QmFja2VuZCBQb2QgMjwvdGV4dD4KCQkJCTx0ZXh0IHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgNDkuNTMxNSAtMzQ1LjA2NjcpIiBjbGFzcz0ic3Q3IHN0OSI+bGFiZWxzOiBhcHA9TXlBcHA8L3RleHQ+CgkJCQk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDQ5LjUzMTUgLTMxNS4wNjY3KSIgY2xhc3M9InN0NyBzdDkiPnBvcnQ6IDkzNzY8L3RleHQ+CgkJCTwvZz4KCQk8L2c+CgkJPGcgaWQ9ImczODY4LTMiIHRyYW5zZm9ybT0ibWF0cml4KDAuODg3OTIzMzcsMCwwLDEsNDgwLjQ5NDg5LDYuNTI1MDAwMWUtNikiPgoJCQk8cmVjdCBpZD0icmVjdDI5ODUtMiIgeD0iNDIuNCIgeT0iLTQxNS4xIiBjbGFzcz0ic3Q2IiB3aWR0aD0iMjI0LjMiIGhlaWdodD0iMTE4LjYiLz4KCQkJPGcgaWQ9ImczODYxLTMiPgoJCQkJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSA0OS4wOTg4IC0zODQuMTU0NSkiIGNsYXNzPSJzdDcgc3Q4Ij5CYWNrZW5kIFBvZCAzPC90ZXh0PgoJCQkJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSA0OS41MzEgLTM0NS4wNjY3KSIgY2xhc3M9InN0NyBzdDkiPmxhYmVsczogYXBwPU15QXBwPC90ZXh0PgoJCQkJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSA0OS41MzEgLTMxNS4wNjY3KSIgY2xhc3M9InN0NyBzdDkiPnBvcnQ6IDkzNzY8L3RleHQ+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+Cgk8ZyBpZD0iZzQxNzgtMy00IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC44MzA1MjQ5LC0wLjU1Njk4MTUsMC42MjkzOTMzMiwtMC45Mzg0OTk0NSwzNjUuNTQ4NTUsMTQ4Ny44Mzk2KSI+CgkJPHBhdGggaWQ9InBhdGg0MTc0LTMtOSIgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgY2xhc3M9InN0MTAiIGQ9Ik01OTMuMSwxMTEzLjJjMC03MS4zLDAtNzEuMywwLTcxLjMiLz4KCQkKCQkJPHBhdGggaWQ9InBhdGg0MTc2LTktMSIgaW5rc2NhcGU6ZmxhdHNpZGVkPSJ0cnVlIiBpbmtzY2FwZTpyYW5kb21pemVkPSIwIiBpbmtzY2FwZTpyb3VuZGVkPSIwIiBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXk9Ii0yLjUiIHNvZGlwb2RpOmFyZzE9IjIuNjE3OTkzOSIgc29kaXBvZGk6YXJnMj0iMy42NjUxOTE0IiBzb2RpcG9kaTpjeD0iMzA4Ljg1NzE1IiBzb2RpcG9kaTpjeT0iNzUzLjc5MDc3IiBzb2RpcG9kaTpyMT0iMTAiIHNvZGlwb2RpOnIyPSI1IiBzb2RpcG9kaTpzaWRlcz0iMyIgc29kaXBvZGk6dHlwZT0ic3RhciIgY2xhc3M9InN0MTEiIGQ9IgoJCQlNNTg0LjgsMTA1MS4ybDguNy0xNWw4LjcsMTVMNTg0LjgsMTA1MS4yeiIvPgoJPC9nPgoJPGcgaWQ9Imc0MTc4LTMiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0wLjkyNTc4OTYyLC0xNzAuOTgxMzYsMTI2OC43Njk5KSI+CgkJPHBhdGggaWQ9InBhdGg0MTc0LTMiIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIGNsYXNzPSJzdDAiIGQ9Ik0zNDguMSwxMjcyLjFjMC03MS4zLDAtNzEuMywwLTcxLjMiLz4KCQkKCQkJPHBhdGggaWQ9InBhdGg0MTc2LTkiIGlua3NjYXBlOmZsYXRzaWRlZD0idHJ1ZSIgaW5rc2NhcGU6cmFuZG9taXplZD0iMCIgaW5rc2NhcGU6cm91bmRlZD0iMCIgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci15PSItMi41IiBzb2RpcG9kaTphcmcxPSIyLjYxNzk5MzkiIHNvZGlwb2RpOmFyZzI9IjMuNjY1MTkxNCIgc29kaXBvZGk6Y3g9IjMwOC44NTcxNSIgc29kaXBvZGk6Y3k9Ijc1My43OTA3NyIgc29kaXBvZGk6cjE9IjEwIiBzb2RpcG9kaTpyMj0iNSIgc29kaXBvZGk6c2lkZXM9IjMiIHNvZGlwb2RpOnR5cGU9InN0YXIiIGNsYXNzPSJzdDEiIGQ9IgoJCQlNMzM5LjgsMTIxMC4xbDguNy0xNWw4LjcsMTVIMzM5Ljh6Ii8+Cgk8L2c+Cgk8ZyBpZD0iZzQwOTAiIHRyYW5zZm9ybT0ibWF0cml4KDAuODkwNjcwMDMsMCwwLDEsLTEzMC45NzI5NSwtMTcyLjM2Mjg2KSI+CgkJPHJlY3QgaWQ9InJlY3QyOTg1LTQiIHg9IjIzNC4xIiB5PSIyMjguNSIgY2xhc3M9InN0MTIiIHdpZHRoPSIyMjQuMyIgaGVpZ2h0PSI1OC42Ii8+CgkJPGcgaWQ9ImczODYxLTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNy42MTc3LDY1Mi44MjUxNikiPgoJCQk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDc5LjkyNTEgLTM4NC4yMzQ3KSIgY2xhc3M9InN0NyBzdDgiPkNsaWVudCA8L3RleHQ+CgkJPC9nPgoJPC9nPgoJPGcgaWQ9Imc0MTY4IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg5MDY3MDAzLDAsMCwxLDI2My42NTkyMiw3NC4yMDU0NzMpIj4KCQk8cmVjdCBpZD0icmVjdDI5ODUtNC0wIiB4PSI2My4xIiB5PSIxMTIuOCIgY2xhc3M9InN0MTMiIHdpZHRoPSIyNTAiIGhlaWdodD0iNTguNiIvPgoJCTxnIGlkPSJnMzg2MS02LTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM0Ljc0NzQzMyw1MzQuMjYyODcpIj4KCQkJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSA3Mi44MDUyIC0zODMuNzg2NykiIGNsYXNzPSJzdDcgc3Q4Ij5rdWJlLXByb3h5PC90ZXh0PgoJCTwvZz4KCTwvZz4KCTxnIGlkPSJnNDE2OC01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NzguODIzMzYsMjcuMjkxOTY1KSI+CgkJPGcgaWQ9Imc0MjM4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMi4wODc0MjksLTg2LjM0MTc3KSI+CgkJCTxyZWN0IGlkPSJyZWN0Mjk4NS00LTAtNiIgeD0iNjIuOSIgeT0iMTEyLjgiIGNsYXNzPSJzdDE0IiB3aWR0aD0iMTkxLjgiIGhlaWdodD0iNTguNiIvPgoJCQk8ZyBpZD0iZzM4NjEtNi0yLTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjEwNzQyOSw1MzQuMjYyODcpIj4KCQkJCTx0ZXh0IHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgNDcuNzEwOCAtMzg0LjE1NDQpIiBjbGFzcz0ic3Q3IHN0OCI+YXBpc2VydmVyPC90ZXh0PgoJCQk8L2c+CgkJPC9nPgoJPC9nPgoJPHBhdGggaWQ9InBhdGgzODg0IiBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiBjbGFzcz0ic3QxNSIgZD0iTTEyOS42LDE1My4xYy0xNC41LDAtMjcsOC42LTMzLDIxLjIKCQljLTUtMC45LTEwLjMtMS40LTE1LjgtMS40Yy0zNC4zLDAtNjIuMiwxOS4xLTYyLjIsNDIuNnMyNy44LDQyLjYsNjIuMiw0Mi42YzE2LjksMCwzMi4yLTQuNiw0My40LTEyLjJjNy40LDE2LjMsMzQsMjguMyw2NS43LDI4LjMKCQljMzMuNSwwLDYxLjQtMTMuNCw2Ni44LTMxLjFjMTctNS4zLDI4LjYtMTUuNywyOC42LTI3LjdjMC0xNy4zLTI0LjQtMzEuNC01NC40LTMxLjRjLTguNSwwLTE2LjUsMS4xLTIzLjYsMy4xCgkJYy0yLTEwLjUtMTQuOC0xOC42LTMwLjMtMTguNmMtNS44LDAtMTEuMiwxLjItMTUuOSwzLjFDMTU0LjgsMTYwLjYsMTQzLDE1My4xLDEyOS42LDE1My4xTDEyOS42LDE1My4xeiIvPgoJPGcgaWQ9ImczODYxLTYtMjgiIHRyYW5zZm9ybT0ibWF0cml4KDAuODkwNjcwMDMsMCwwLDEsLTMxLjA5MTgzNiw1ODcuNjc5MDQpIj4KCQk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDEwNi4wMzk2IC0zODYuMTczMikiIGNsYXNzPSJzdDcgc3Q4Ij5TZXJ2aWNlSVA8L3RleHQ+CgkJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAxMDYuMDM5NiAtMzQ2LjE3MzIpIiBjbGFzcz0ic3Q3IHN0OCI+KGlwdGFibGVzKSA8L3RleHQ+Cgk8L2c+Cgk8cmVjdCBpZD0icmVjdDM4ODkiIHg9IjcuMSIgeT0iOC40IiBjbGFzcz0ic3QxNiIgd2lkdGg9IjU0NC43IiBoZWlnaHQ9IjI2Ny42Ii8+Cgk8dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDExLjk2OTEgNDUuMjcwNSkiIGNsYXNzPSJzdDE3IHN0MTgiPk5vZGU8L3RleHQ+CjwvZz4KPC9zdmc+Cg==)





