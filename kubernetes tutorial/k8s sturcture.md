## 클러스터의 구성  
**마스터노드** : 노드들의 상태를 관리하고 제어함. 쿠버네티스의 데이터 저장소로 사용하는 etcd를 함께 설치하거나, 별도 노드에 분리해서 설치하기도 한다.
마스터 노드를 1대만 설치할 수도있지만, 상용서비스라면 보통 고가용성을 고려해 3대나 5대로 구성한다. 홀수로 구성하면 7대 이상도 가능하지만, 
kube-controller-manager 활성화 상태로 동작할 수있는 리더 마스터 노드는 1대이다. (3~5대가 적당)  
  
**워커노드** : kublet이라는 에이전트가 동작하며, 마스터 노드의 명령을 받아 사용자가 선언한 파드나 잡을 실제 실행한다.


## 마스터 노드 구성요소
**ETCD** : etcd는 고가용성을 제공하는 키밸류 저장소이다. 쿠버네티스에서 필요한 모든 데이터를 저장하는 실질적인 데이터베이스로, 일반적으로 
여러 장비에 분산해서 클러스터링 구성한다.  
  
**kube-apiserver** : 쿠버네티스 클러스터의 api를 사용할 수 있게 해주는 프로세스이다. 클러스터로 요청이 왔을때 그 요청이 유효한지 검증하며,
쿠버네티스로의 모든 요청은 kube-apiserver를 통해 다른 곳으로 전달되도록 되어있다. kube-apiserver는 수평적으로 확장이 가능하게 설계되어 있어,
여러대의 장비에 여러개를 띄워놓고 사용할 수 있다.  

**kube-scheduler** : 새로운 포드들이 만들어질 때, 현재 클러스터내에서 자원할당이 가능한 노드들 중에서 알맞은 노드를 선택해서 그곳에 포드를 띄우는 역할을 한다. kube-scheduler는 조건에 맞는 노드를 찾아주는 역할을 한다.(필요한 하드웨어 요구사항, affinity/anti-affinty 조건, 특정 데이터가 있는 노드에 할당 등)  
  
**kube-controller-manager** : 각각의 컨트롤러들을 실행하는 역할을 함(컨트롤러 : pod들을 관리하는 역할)  
  
**cloud-controller-manager** : 클라우드 서비스를 제공해 주는 곳에서 쿠버네티스의 컨트롤러들을 자신들의 서비스와 연계해서 사용하기 위해 사용함. - 노드 컨트롤러, 라우트 컨트롤러, 서비스 컨트롤러, 볼륨 컨트롤러  
  
## 워커 노드 구성요소
**kubelet** : 클러스터 내의 모든 노드에서 실행되는 에이전트. pod 내의 컨테이너들이 실행되는 것을 직접적으로 관리하는 역할을 함. kubelet은 PodSpecs라는 설정을 받아서 그 조건에 맞게 컨테이너를 실행하고 컨테이너가 정상적으로 실행되고 있는지 상태체크를 진행함.  
  
**kube-proxy** : 쿠버네티스는 클러스터 내부에 별도의 가상 네트워크를 설정하고 관리한다. kube-proxy는 이런 가상 네트워크가 동작할 수 있게 하는 실질적인 역할을 하는 프로세스. 호스트의 네트워크 규칙을 관리하거나 커넥션 포워딩을 하기도 함.  
  
**container runtime** : 실제로 컨테이너를 실행시키는 역할을 함. Docker 외에 rkt, runc같은 런타임도 지원함. 그 외에도 컨테이너에 관한 표준을 제정하는 역할을 하는 OCI(Open Container Initiative)의 런타임 규격을 구현하고 있는 컨테이너 런타임이라면 쿠버네티스에서 사용가능함.
